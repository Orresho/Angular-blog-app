<div class="container">
    <h1 class="page-header">This is the blog page</h1>

    <div class="row show-hide-message">
        <div [ngClass]="messageClass">
            {{message}}
        </div>
    </div>

    <button type="button" name="button" class="btn btn-warning" *ngIf="!newPost" (click)="newBlogForm()">New Post</button>
    <button [disabled]="loadingBlogs" type="button" name="button" class="btn btn-warning" *ngIf="!newPost" (click)="reloadBlogs()">
        <span class="glyphicon glyphicon-repeat"></span>&nbsp;&nbsp;Reload</button>
    <br>
    <br>

    <!-- New Blog Form -->
    <form [formGroup]="form" name="blogForm" (submit)="onBlogSubmit()" *ngIf="newPost">
        <!-- Title Input -->
        <div class="form-group">
            <label for="title">Title</label>
            <div [ngClass]="{'has-success': form.controls.title.valid, 'has-error': form.controls.title.dirty && form.controls.title.errors}">
                <input type="text" name="title" class="form-control" placeholder="*Blog Title" autocomplete="off" formControlName="title"
                />
                <ul class="help-block">
                    <li *ngIf="form.controls.title.dirty && form.controls.title.errors?.required">This field is required.</li>
                    <li *ngIf="(form.controls.title.dirty && form.controls.title.errors?.minlength) || (form.controls.title.dirty && form.controls.title.errors?.maxlength)">Max length: 50, Min length: 5</li>
                    <li *ngIf="form.controls.title.dirty && form.controls.title.errors?.alphaNumericValidation">Must be a letter or number</li>
                </ul>
            </div>
        </div>

        <!-- Body Input -->
        <div class="form-group">
            <label for="body">Body</label>
            <div [ngClass]="{'has-success': form.controls.body.valid, 'has-error': form.controls.body.dirty && form.controls.body.errors}">
                <textarea name="body" rows="8" cols="80" placeholder="*Body" class="form-control" formControlName="body"></textarea>
                <ul class="help-block">
                    <li *ngIf="form.controls.body.dirty && form.controls.body.errors?.required">This field is required.</li>
                    <li *ngIf="(form.controls.body.dirty && form.controls.body.errors?.minlength) || (form.controls.body.dirty && form.controls.body.errors?.maxlength)">Max length: 500, Min length: 5</li>
                </ul>
            </div>
        </div>

        <!-- Go Back Button -->
        <button [disabled]="processing" type="button" name="button" (click)="goBack()" class="btn btn-warning">Go Back</button>
        <!-- Submit Button -->
        <button [disabled]="processing || !form.valid" type="submit" name="button" class="btn btn-success">Submit</button>

    </form>


    <div *ngIf="!newPost">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">

                </h3>
            </div>
            <div class="panel-body">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec mollis massa varius pharetra blandit. Nulla volutpat neque
                mauris, eu ornare risus feugiat vel. Vivamus lacinia neque ex, ut feugiat turpis elementum eu. Donec gravida
                purus nec risus venenatis tristique. Integer mauris ligula, tristique eget dignissim ac, porta id tellus.
                Mauris sed nisl eleifend, volutpat elit id, convallis nisi. Quisque luctus massa at tellus luctus tempor.
                Sed auctor fringilla blandit. Sed luctus dui vel eros ultrices condimentum.
            </div>

            <!-- Footer start -->
            <div class="panel-footer">
                <strong>Posted by: </strong>Orresho
                <br>
                <strong>Date: </strong>June 20, 2017
                <br>
                <div>
                    <strong>Likes: </strong>25
                    <br>
                    <strong>Dislikes: </strong>2
                </div>

                <a href="#">
                    <button type="button" name="button" class="btn btn-sm btn-info">Edit</button>
                </a>
                <a href="#">
                    <button type="button" name="button" class="btn btn-sm btn-danger">Delete</button>
                </a>

                <!-- Likes dropdown -->
                <div class="dropdown">
                    <button type="button" name="button" class="btn btn-sm btn-success">
                        <span class="glyphicon glyphicon-thumbs-up">&nbsp;</span>Likes: 25
                    </button>
                    <div class="dropdown-content">
                        <a href="#">Link 1</a>
                        <a href="#">Link 2</a>
                        <a href="#">Link 3</a>
                    </div>
                </div>
                <!-- End Likes -->

                <!-- Dislikes dropdown -->
                <div class="dropdown">
                    <button type="button" name="button" class="btn btn-sm btn-warning">
                        <span class="glyphicon glyphicon-thumbs-up">&nbsp;</span>Dislikes: 2
                    </button>
                    <div class="dropdown-content">
                        <a href="#">Link 1</a>
                        <a href="#">Link 2</a>
                        <a href="#">Link 3</a>
                    </div>
                </div>
                <!-- End dislikes -->
            </div>
            <!-- End footer -->

            <ul class="list-group">
                <li class="list-group-item">
                    <button type="button" name="button" class="btn btn-sm btn-danger" (click)="draftComment()">Post Comment</button>
                    <br>
                    <!-- <form>
                        <textarea name="comment" cols="30" rows="10" class="form-control"></textarea>
                        <button type="button" name="button" class="btn btn-sm btn-info">Submit Post</button>
                        <button type="button" name="button" class="btn btn-sm btn-info">Cancel</button>
                    </form> -->
                </li>
            </ul>

        </div>
    </div>
</div>